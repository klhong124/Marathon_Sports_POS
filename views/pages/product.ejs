<head>
    <% include ../partials/head %>
    <link href="/public/album.css" rel="stylesheet">
    <script src="/public/holder.min.js"></script>
</head>

<style>
    .slide>.small-img>div {
        width: 40px;
        height: 40px;
        margin-left: 4px;
        z-index: -100;
    }
    .slide>.small-img>div>img{
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -100;
    }

    #product>.carousel-inner>.carousel-item>img{
        height: 420px;
        weight: 100%;
        /* object-fit: contain; */
    }
    #stock-tooltip {
        text-decoration: none;
    }
</style>


<% include ../partials/nav %>
<div class="container">
    <div style="height:120px; width:100%;"></div>  <!-- placeholder -->

    <div class="card">
        <div class="row">
            <div class="col-sm-5">
                <article class="card-body p-1">
                    <div id="product" class="carousel slide" data-ride="carousel">
                        <!-- Indicators -->
                        <ul class="carousel-indicators small-img">
                            <!-- <<img style="width:40px; height:40px;"  data-target="#product" data-slide-to="0" class="active" src="./public/images/2.jpg">
                            <img style="width:40px; height:40px;" data-target="#product" data-slide-to="1" src="./public/images/2.jpg">
                            <img style="width:40px; height:40px;" data-target="#product" data-slide-to="2" src="./public/images/2.jpg"> -->
                            <div data-target="#product" data-slide-to="0" class="active"><img src="/public/images/<%= data[0] %>/<%= data[10] %>.jpg"></div>
                            <!-- <div data-target="#product" data-slide-to="1"><img src="/public/images/2.jpg"></div>
                            <div data-target="#product" data-slide-to="2"><img src="/public/images/3.jpg"></div> -->
                        </ul>

                        <!-- The slideshow -->
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/public/images/<%= data[0] %>/<%= data[10] %>.jpg">
                            </div>
                            <!-- <div class="carousel-item">
                                <img src="/public/images/2.jpg">
                            </div>
                            <div class="carousel-item">
                                <img src="/public/images/3.jpg">
                            </div> -->
                        </div>

                        <!-- Left and right controls -->
                        <a class="carousel-control-prev" href="#product" data-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </a>
                        <a class="carousel-control-next" href="#product" data-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </a>
                    </div>
                </article>
            </div>

            <aside class="col-sm-7">
                <article class="card-body p-5">
                    <form  action="/to-cart" method="post" >
                        <input hidden name="p_id" value="<%= data[0] %>">
                        <h3 class="title mb-3"> <%= data[1] %></h3>

                        <p class="price-detail-wrap">
                            <span class="price h3 text-warning">
                                <span class="currency">HK $</span><span class="num" name="p_price"><%= data[3] %></span>
                                <input hidden name="p_price" value="<%= data[3] %>">
                            </span>
                        </p> <!-- price-detail-wrap .// -->
                        <dl class="item-property">
                            <dt>Description</dt>
                            <dd><p><%= data[2] %></p></dd>
                        </dl>
                        <!-- <dl class="param param-feature">
                        <dt>Model#</dt>
                        <dd>12345611</dd>
                        </dl>
                        <dl class="param param-feature">
                            <dt>Color</dt>
                            <dd>Black and white</dd>
                        </dl> -->
                        <dl class="param param-feature">
                            <dt>Shipping & Delivery</dt>
                            <dd>Shipping is free on <b>$300+</b> orders. Marathon Sports uses the best carriers in the business to make sure your order gets to you on time. From the Secure Checkout page you'll see your item description, price and delivery timing.</dd>
                        </dl>

                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <dl class="param param-inline">
                                    <dt>Quantity:</dt>
                                    <dd>
                                        <input class="form-control" style="width: 80px;" type="number" min="1" name="p_qty" value="1">
                                    </dd>
                                </dl>  <!-- item-property .// -->
                            </div> <!-- col.// -->
                            <div class="col-sm-7">
                                <dl class="param param-inline">
                                    <dt>Size Available (CM): </dt>
                                    <dd>
                                        <% for(var i=1; i<product.length; i++ ){ %>
                                            <a href="#" id="stock-tooltip" data-toggle="tooltip" title="<%= product[i][1] %> in stocks">
                                            <label class="form-check form-check-inline">
                                                  <input class="form-check-input" type="radio" name="p_size" value="<%= product[i][0] %>">
                                                <span class="form-check-label" ><%= product[i][2] %></span>
                                            </label></a>
                                        <% } %>

                                        <!-- <label class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                                        <span class="form-check-label">MD</span>
                                    </label>
                                    <label class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                                    <span class="form-check-label">XXL</span>
                                </label> -->
                                    </dd>
                                </dl>
                            </div>
                        </div>
                        <hr>
                        <button class="btn btn-primary" type="submit">Buy now</button>
                        <!-- <a href="#" class="btn btn-lg btn-primary text-uppercase"> Buy now </a> -->
                <!-- <button class="btn btn-lg btn-outline-success text-uppercase" onclick="addToCart('<%= data[1] %>')" data-id="a<%= data[1] %>"> <i class="fas fa-shopping-cart"></i> Add to cart </button> -->
                    </form>
                </article>
            </aside>
        </div> <!-- row.// -->
    </div> <!-- card.// -->
</div> <!--container.//-->
<div style="height:120px; width:100%;"></div>
<div class="container">
    <div style="width:100%; height:100%;">
        <center><img src="/public/shop_size_table.png" class="img-thumbnail"></center>
    </div>
    <div style="height:480px; width:100%;"></div>
    </div>
    <div><center><h3 style="color:grey;">You may also interested in</h3></center></div>
    <hr>
    <div style="height:24px; width:100%;"></div>

    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner container">
            <div class="carousel-item active">
                <div class="row">
                    <% for(var i=1; i<item.length-3; i++ ){ %>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <a href="/product/<%= item[i][3] %>">
                                <% if((typeof item[i][4] != null && item[i][4])) { %>
                                <img class="card-img-top" src="/public/images/<%= item[i][3] %>/<%= item[i][4]%>.jpg" alt="Card image cap"></a>
                                <% } else { %>
                                <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap">
                                <% } %>
                            <!-- <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap"> -->
                            <div class="card-body">
                                <p class="card-text"><%= item[i][0] %><br><span style="color:#ff6e00;">$ <b><%= item[i][1] %></b></span> </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <a href="/product/<%= item[i][3] %>"><button type="button" class="btn btn-sm btn-outline-primary">View</button></a>
                                        <button type="submit" class="btn btn-sm btn-success"  onclick="addToCart('<%= item[i][3] %>')" data-id="a<%= item[i][3] %>">Add to chart</button>
                                    </div>
                                    <small class="text-muted"><%= item[i][2]%></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div>
            </div>

            <!-- second slide -->
            <div class="carousel-item">
                <div class="row">
                    <% for(var i=4; i<item.length; i++ ){ %>
                    <div class="col-md-4">
                        <div class="card mb-4 shadow-sm">
                            <a href="/product/<%= item[i][3] %>">
                                <% if((typeof item[i][4] != null && item[i][4])) { %>
                                <img class="card-img-top" src="/public/images/<%= item[i][3] %>/<%= item[i][4]%>.jpg" alt="Card image cap"></a>
                                <% } else { %>
                                <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap">
                                <% } %>
                            <!-- <img class="card-img-top" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap"> -->
                            <div class="card-body">
                                <p class="card-text"><%= item[i][0] %><br><span style="color:#ff6e00;">$ <b><%= item[i][1] %></b></span> </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <a href="/product/<%= item[i][3] %>"><button type="button" class="btn btn-sm btn-outline-primary">View</button></a>
                                        <button type="submit" class="btn btn-sm btn-success"  onclick="addToCart('<%= item[i][3] %>')" data-id="a<%= item[i][3] %>">Add to chart</button>
                                    </div>
                                    <small class="text-muted"><%= item[i][2]%></small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
        <!-- <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a> -->
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
<% include ../partials/footer %>

<script>
// Activate Carousel
    $("#myCarousel").carousel({interval: 0});

    var prevScrollpos = window.pageYOffset;
    window.onscroll = function hide_navbar() {
        var currentScrollPos = window.pageYOffset;
        if (prevScrollpos < currentScrollPos) {
            document.getElementById("navbar").style.top = "0";
        } else {
            document.getElementById("navbar").style.top = "0";
          }
        prevScrollpos = currentScrollPos;
    }

    $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>
